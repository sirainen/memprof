Sat Aug 10 14:15:06 2002  Owen Taylor  <otaylor@redhat.com>

	* memprof.spec.in: Cleanups, one few fixes.

	* Makefile.am: Remove memprof-strings.c from EXTRA_DIST,
	add intltool-*.in, make dist-hook depend on memprof.spec,
	so we get an up-to-date version.
	
Sat Aug 10 20:14:11 2002  Kristian Rietveld  <kris@gtk.org>

	* NEWS: a few tweaks

	* memprof.spec.in: an attempt to update it.

Sat Aug 10 13:45:18 2002  Owen Taylor  <otaylor@redhat.com>

	* README: Few tweaks, add a mini-FAQ.

Sat Aug 10 19:39:59 2002  Kristian Rietveld  <kris@gtk.org>

	* README, NEWS: updates for 0.5.0.

Tue Aug  6 21:14:00 2002  Owen Taylor  <otaylor@redhat.com>

	* memintercept.c (debug): Add a mini-printf implementation, use
	it for debugging messages.

	* main.c (show_error_response): Fix cast.

2002-08-07  Michael Meeks  <michael@ximian.com>

	* profile.c (profile_create): insert each member of the list,
	not just the first repeatedly.

Tue Jul 16 01:43:30 2002  Kristian Rietveld  <kris@gtk.org>

	* copyright-header, bfdutils.c, gui.h, inode.c, leakdetect.[ch],
	main.c, memintercept.[ch], memprof.h, process.[ch], profile.[ch],
	server.[ch], tree.c: update copyrights

	* configure.in: version already to 0.5.0.

	* memprof.glade: update copyrights in about window

	* AUTHORS: add myself.

Tue Jul 16 01:17:10 2002  Kristian Rietveld  <kris@gtk.org>

	* main.c (about_cb): set version number in about dialog,
	(show_error_response): new function,
	(show_error): destroy message dialog after showing it, get message	
	types right.

	* memprof.glade: rename "Execute" menu item to "Run Program" to
	maintain consistency with the toolbar item, don't set the
	toolbar-style, so it follows the user-defined setting, remove
	statusbar from main window as it was unused.

Tue Jun 11 01:22:30 2002  Kristian Rietveld  <kris@gtk.org>

	Finished the GNOME2 port.

	* Makefile.am: install memprof.glade and not memprof.glade2,
	remove glade file conversion, removed gnome-question.png from
	EXTRA_DIST

	* acconfig.h: added line for HAVE_BIND_TEXTDOMAIN_CODESET

	* configure.in: check for bind_textdomain_codeset, remove check for
	libglade-convert

	* main.c (leak_stack_run_commmand), (run_file):
	fixup call to show_error,
	(exit_cb), (run_cb), (skip_add_cb), (skip_regexes_add_cb),
	(show_error), (process_window_maybe_detach),
	(process_window_maybe_kill): make message dialog use GtkDialog
	(includes button swap), 
	(preferences_cb): add nice close stock icon to close button,
	(about_cb): don't make about dialog modal,
	(show_error): add parent_window parameter,
	(process_window_new): give the main window an icon,
	(main): init using GnomeProgram, load memprof.glade and not	
	memprof.glade2, fix show_error call

	* memprof.h: add parent_window parameter to show_error.
	
	* leakdetect.c (leaks_print): fixup call to show_error
	* profile.c (profile_write): ditto
	* server.c (mp_server_instrument), (find_lib_location): ditto

	* memprof.glade: loads of small tweaks, added icons, etc. This is
	now a glade2 file.

	* po/POTFILES.in: removed memprof-strings.c, added memprof.glade

	* po/*po: converted to UTF8.

	* gnome-question.png, memprof-strings.c: removed

Fri May 17 01:47:55 2002  Kristian Rietveld  <kris@gtk.org>

	* memintercept.c (stack_trace): fix typo (patch from Michael Meeks)

2002-05-14  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Vietnamese (vi) to ALL_LINGUAS

Tue Mar 12 18:59:11 2002  Kristian Rietveld  <kris@gtk.org>

	Summary: support for gconf

	* main.c: include gconf/gconf-client.h, remove hardcoded default
	values (those are now in the schema), uses GSLists instead of
	chararrays for skip_funcs and skip_regexes, put preferences dialog
	XML global, change everything to handle the GSLists, changed
	pref dialog to be an 'instant-apply-dialog'

	* memprof-strings.c, memprof.glade: updates, remove the PropertyBox,
	pack it in a GtkWindow

	* profile.[ch]: change profile_create to use GSList

	* configure.in: add check for GConf, not required, but for
	cleanliness, require newer versions

	* Makefile.am: install schema

	* memprof.schemas: new file

2002-03-07  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" to ALL_LINGUAS.

2002-03-07  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2002-03-06  Hasbullah Bin Pit <sebol@ikhlas.com>

	* configure.in: Added Malay (ms)to ALL_LINGUAS.
	* po/ms.po: Added Malay Translation.

2002-03-05  Carlos Perello Marin <carlos@gnome-db.org>

	* configure.in: Added "es" to ALL_LINGUAS

2002-02-19  Anders Carlsson  <andersca@gnu.org>

	* memprof.png: Update icon.

2002-02-02  Seth Nickell  <snickell@stanford.edu>

	* Makefile.am:
	* memprof.desktop:

	Install .desktop file into the GNOME2 location,
	tweak the Name and Comments fields, add a
	Categories field.
	
Sat Dec 15 17:38:23 2001  Owen Taylor  <otaylor@redhat.com>

	* configure.in (ACLOCAL): Remember ACLOCAL_FLAGS.

	* profile.c (profile_free): Fix memory leak.
	
2001-12-13  Wang Jian  <lark@linux.net.cn>

	* configure.in(ALL_LINGUAS): Added zh_CN for Simplified Chinese.

Tue Dec 11 21:31:57 2001  Owen Taylor  <otaylor@redhat.com>

	* leakdetect.c (leaks_find): Don't kill -CONT before
	detaching -- apparently this isn't necessary any
	more and prevents us from detaching.

Tue Dec 11 20:53:52 2001  Owen Taylor  <otaylor@redhat.com>

	* profile.c (profile_write): Sort child and inherited
	lists in the output for better 'diff -u' ability.

Tue Dec 11 20:40:37 2001  Owen Taylor  <otaylor@redhat.com>

	* process.c (process_command): Check for duplicate
	allocations of a same block, since realloc apparently
	calls malloc in some cases.

	* main.c server.c memintercept.c: Warning cleanups.

	* server.c process.c: Use g_object_new(), not g_type_create_instance.

	* process.c (process_command): Don't access block->size 
	after unrefing block.

Tue Dec 11 00:41:13  Kristian Rietveld  <kris@gtk.org>

	Port to gnome2 platform.

	* Makefile.am: remove intl from SUBDIRS, pkgdata_DATA:
	s/glade/glade2/, add memprof.glade2 build rule, add -export-dynamic
	as LDFLAG

	* acconfig.h: add GETTEXT_PACKAGE

	* autogen.sh: replace with 'gnome2 generic app autogen.sh'

	* configure.in: require autoconf 2.52, require intltool,
	require libglade-convert, use pkg-config instead of gnome-config,
	don't generate intl/Makefile

	* main.c: change to GObject where needed, ported glade_xml code,
	various other porting, get NLS support right and read
	memprof.glade2 instead of memprof.glade

	* memprof-strings.c: updated by glade

	* memprof.desktop: add Dutch Name and Comment

	* memprof.glade: remove invalid UTF-8

	* process.[ch], server.[ch]: port to new object system

	* tree.c: small porting action

2001-12-01  Soeren Sandmann  <sandmann@daimi.au.dk>

	* memintercept.c (memalign): Fix typo (name should be memalign(),
	not memealign())

Thu Jul 19 18:19:52 2001  Owen Taylor  <otaylor@redhat.com>

	* memprof.glade: Fix wrong tooltip on Kill button. (#55413)
	
2001-02-26  Carlos Perelló Marín <carlos@gnome-db.org>

	* configure.in (ALL_LINGUAS): Added es.

Fri Feb  9 14:54:08 2001  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Another attempt at 0.4.1. 

	* server.c (create_control_socket): Added #ifdef'd out
	code for creating entries in /tmp/memprof.UID/server.PID
	if the warnings about mktemp() disturb you -- they shouldn't.

	* server.c: Catch SIGTERM/SIGINT to clean up temporary file correctly.

Fri Feb  9 11:49:10 2001  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Release 0.4.1

	* main.c (pwin_from_widget): Fix segfault with running accelerators
	on menus that have never been popped up by using
	gtk_menu_get_attach_widget() instead of ->parent_menu_shell.

Fri Feb  9 10:40:31 2001  Owen Taylor  <otaylor@redhat.com>

	* Makefile.am (dist-hook): Add some magic to make
	sure spec file always has an entry for the current
	version.

Fri Feb  9 10:13:43 2001  Owen Taylor  <otaylor@redhat.com>

	* memintercept.c: Handle __fork, __vfork, so that
	popen() is handled correctly. 

	* memintercept.c: Unset _MEMPROF_SOCKET when disabling
	tracing.

Sun Feb  4 14:01:45 2001  Owen Taylor  <otaylor@redhat.com>

	* configure.in (ALL_LINGUAS): Add pt_BR.

2001-01-23  Simos Xenitellis  <simos@hellug.gr>

	* configure.in: Added el to ALL_LINGUAS.

	* memprof.desktop: Added Greek translation. 

2000-11-07 Elliot Lee <sopwith@redhat.com>

	* process.c: Initialize variable to NULL to avoid some funky crash.

2000-10-31  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in: Added pl to ALL_LINGUAS.

2000-10-18  Christophe Merlet  <christophe@merlet.net>

	* memprof.desktop: Added French strings.

2000-10-14  Almer S. Tigelaar  <almer1@dds.nl>

	* configure.in: Add 'nl' to ALL_LINGUAS.

2000-10-11  Almer S. Tigelaar  <almer1@dds.nl>

	* memprof.glade: Add history id for the run dialog, this way
	previously run files will be remembered and don't have to be
	re-entered everytime.

	* memprof-strings.c: Fix the typo previously found by Kjartan
	Maraas on 2000-08-21 in the glade file.

2000-09-08  Szabolcs BAN <shooby@gnome.hu>

	* configure.in,po/hu.po: Added Hungarian translations from 
	Greg Nagy <greg@gnome.hu>

2000-08-21  Kjartan Maraas  <kmaraas@gnome.org>

	* memprof_strings.c: Fix typo.
	
2000-08-10  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in,po/ca.po: added Catalan file

2000-08-05  Martin Baulig  <baulig@suse.de>

	* main.c: Added regex-based exclusion of functions.
	* memprof.glade: Added section where you can edit a list
	of regexes of functions to be ignored.

Sun Jul  9 19:23:21 2000  Owen Taylor  <otaylor@redhat.com>

	* leakdetect.c: Add <string.h>

	* memintercept.c: Allow in a small way for frees from
	starter block - allow last block to be freed, otherwise 
	ignore the free. Also, better code for debugging problems
	at startup.

Fri Jul  7 16:24:53 2000  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Release 0.4.0

	* memprof.spec.in: Some cleanups

Fri Jul  7 16:18:31 2000  Owen Taylor  <otaylor@redhat.com>

	* process.c (input_func): Fix a couple of bugs with
	process exit.

	* memintercept.c (_exit): Increment seqno, and close
	outfds[i] - to deal with case of threading.

	* server.c (mp_server_get_type): Reindent.

	* memintercept.c: Make outbuf non-static to avoid 
	keeping last block around for leak detection to find.

Thu Jul  6 10:52:42 2000  Owen Taylor  <otaylor@redhat.com>

	* leakdetect.c (find_block): Handle case where no
	blocks at all exist. (Problem pointed out by
	Christof Petig.)

2000-06-27  Yuri Syrota  <rasta@renome.rovno.ua>

	* configure.in: Add "uk" to ALL_LINGUAS.

Mon Jun  5 10:46:32 2000  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Add de to ALL_LINGUAS.

Sun May 28 15:22:51 2000  Fatih Demir	<kabalak@gmx.net>
	
	* configure.in: Added tr to ALL_LINGUAS.

Fri May 26 12:55:35 2000  Owen Taylor  <otaylor@redhat.com>

	* bfdutils.c (find_line): For a sufficiently screwed up
	object file, bfd_find_nearest_line can return TRUE but
	leave name NULL. Account for this.

	* bfdutils.c: Reindent.

	* process.c (process_exec_reset): Fix problem where
	signal was being emitted on finalize.

Wed May 24 23:30:02 2000  Owen Taylor  <otaylor@redhat.com>

	* process.c (mp_process_finalize): Add a finalize
	function.

Wed May 24 23:18:12 2000  Owen Taylor  <otaylor@redhat.com>

	* process.c (mp_process_init): 
	* server.c (mp_server_init):

	Ref and sink objects to make them strictly reference
	counted.

Wed May 24 05:26:18 2000  Owen Taylor  <otaylor@redhat.com>

        * tree.c main.c: Always confirm when killing or
	detaching from a process.
	
	* main.c (run_file): When running a new process, and we
	have an existing process, create a new window for the
	new process.

	* main.c: Add a SIGCHLD handler so we don't have to
	worry about waiting for processes we've detached from.

Wed May 24 04:22:28 2000  Owen Taylor  <otaylor@redhat.com>

	* main.c gui.h (process_window_maybe_kill) process.[ch]
	  (process_kill): Add functions for killing processes.

	* memprof.glade main.c: Menu reorganization, replace detach
	toolbar item with kill.

Wed Jan 12 10:42:35 2000  Owen Taylor  <otaylor@redhat.com>

	* configure.in (MEMPROF_LIBS): Link against -lbfd and
	-liberty statically, since the so's change with every
	release of binutils.

	* testmemprof.c: Make a bit more interesting.

Tue May 23 20:06:57 2000  Owen Taylor  <otaylor@redhat.com>

        * process.c main.c memprof.glade: Start of support for detaching from
	running or exited processes.

	* tree.c main.c gui.h: Add popup menu to tree for show/hide/detach.

Tue May 23 18:47:54 2000  Owen Taylor  <otaylor@redhat.com>

	* memintercept.c: Avoid overwriting errno.

Tue May 23 16:40:17 2000  Owen Taylor  <otaylor@redhat.com>

	* process.[ch]: Add functions to get the command line and 
	status of the process.

	* Makefile.am tree.c gui.h memprof.glade: Add tree window to display
	all current traced processes.

Tue May 23 14:19:44 2000  Owen Taylor  <otaylor@redhat.com>

	* server.[ch] process.[ch]: Add process and server GtkObject's
	with signals for process creation, status changes, exit.

	* memintercept.[ch] process.c: Trap _exit() and wait for a
	response from the server. Add a MI_EXIT command.

	* inode.c memprof.h: Separate out the inode-finding code from process.c
	
Tue May 23 05:05:10 2000  Owen Taylor  <otaylor@redhat.com>

	* main.c process.c memintercept.c: Hook up the follow-fork
	and follow-exec options.

	* main.c: Quit when all windows are closed.

	* main.c: Catch windows being closed from the window manager
	and remove timeouts properly.

2000-05-07  Valek Filippov  <frob@df.ru>

	* ru.po: Added "ru" to ALL_LINGUAS.

2000-05-03  Kjartan Maraas  <kmaraas@online.no>

	* no.po: Added "no" to ALL_LINGUAS.
	
2000-02-23  Peter Hawkins	<peterhawkins@ozemail.com.au>

	* main.c: Stopped preferences dialog from being opened multiple times at once.

2000-02-21  Lauris Kaplinski  <lauris@ariman.ee>

       * configure.in: Added et to ALL_LINGUAS
	
Tue Jan  4 02:41:28 2000  Owen Taylor  <otaylor@redhat.com>

	* README: Added note telling Debian users about more
	splitty	little packages they need.

	* configure.in (MEMPROF_LIBS): Added check for -lglade-gnome

Sat Nov 20 17:14:40 1999  Owen Taylor  <otaylor@redhat.com>

	* bfdutils.c (process_map_sections): Try accessing
	section->_cooked_size to deal with bug(?) in older
	binutils.

	* memintercept.c (STACK_MAX_SIZE): Change PIPE_BUF to
	#define constant since we no longer use pipes.

Sat Nov 20 10:40:48 1999  Owen Taylor  <otaylor@redhat.com>

        [ Sync CVS with my current tree. This commit destabilizes
	  things a bit, but adds neat new features like
	  correct tracing of threaded programs; some options like
	  turning off following forks not yet implemented ]
	
	* memintercept.[ch]: Major reworking of the way we handle
	intercepting malloc() and friends - the __malloc_hook
	functionality is inherently not thread safe. So
	directly override the functions in our LD_PRELOAD.
	Also, override fork(), clone() and exec() and report these
	back to our parent to allow tracing of threads and
	forking programs.

	* process.c memintercept.c: Change the mechanism for
	communicating with subprocesses from a single pipe to
	a Unix domain socket with accepts connections for
	new subprocesses.
	
	* process.c: Completely rework handling of getting input
	from multiple processes. Add a command-queue to deal
	with recieving out-of-order input from multiple threads
	within a single process.
	
	* main.c: Allow multiple process windows, create new
	process windows when a fork or exec occurs.
	
	* Makefile.am: add -ldl to LIBADD for libmemintercept.so,
	since we now use DL functions to get original symbols. 

        * process.c bfdutils.c memprof.h: Add an exported demangle function,
	store symbol names demangled.

	* README: Add note for Debian users telling them to
	install binutils-dev.

1999-11-17  Elker Cavina <e.cavina@ra.nettuno.it>

       * configure.in: Added it to ALL_LINGUAS
	
Thu Nov  4 13:14:36 1999  Owen Taylor  <otaylor@redhat.com>

	* process.c: Re-indent to Linux style.

	* memprof.glade main.c (process_window_destroy): Add ability
	to close windows.

1999-11-15  Martin Norbäck  <d95mback@dtek.chalmers.se>

	* configure.in: Added sv to ALL_LINGUAS

Thu Oct 28 09:22:42 1999  Owen Taylor  <otaylor@redhat.com>

	* process.c (process_find_exec): Fix extra free
	in case where executable is not found. 
	(Pointed out by Sven Neumann <neumann@simul.biophys.uni-duesseldorf.de>)

Wed Oct 27 20:58:03 1999  George Lebl  <jirka@5z.com>

	* main.c: (update_status) if current_process->n_allocations,
	  don't divide by it and just strdup a "-"

Wed Oct 27 16:22:03 1999  Owen Taylor  <otaylor@redhat.com>

	* Released 0.3.0

Wed Oct 27 15:17:08 1999  Owen Taylor  <otaylor@redhat.com>

	* process.c (input_func): Remove a bunch of duplicate
	code - we don't need separate malloc/realloc/free cases.

	* process.c (input_func): Fix stupid unitialized
	variable.

Wed Oct 27 12:26:02 1999  Owen Taylor  <otaylor@redhat.com>

	* memintercept.c: Reindent to linux style

	* memintercept.c (stack_trace): Write out output in
	single write() call to ensure atomicity.

	* memintercept.c (my_free_hook): Changed hooks
	to match glibc-2.1 prototypes

	* *.[ch]: Added copyrights to source files.

	* main.c process.c process.h: Pass pre-split args
	into process_run(), add functions for splitting
	args and finding the executable.

	* main.c: Add code from Michael Meeks <michael@nuclecu.unam.mx>
	for specifying the program to debug from the command
	line.

Mon Oct 25 15:17:38 PDT 1999 Manish Singh <yosh@gimp.org>

	* configure.in: add a -ldl fallback test for libiberty

Wed Oct 20 19:59:16 1999  Owen Taylor  <otaylor@redhat.com>

	* main.c (DEFAULT_STACK_COMMAND): Use emacsclient instead of 
	gnudoit because emacsclient is standard.

	* process.c (read_inode): Fix mem leak found by MemProf.

Wed Oct 20 18:46:22 1999  Owen Taylor  <otaylor@redhat.com>

	* process.c (process_init): Look in libdir, not pkgdatadir
	for libmemintercept.so

	* process.c (process_init): Look in .libs for libmemintercept.so
	so things work in the non-installed case.

	* configure.in (MEMPROF_LIBS): Use right -l flags when
	checking for -lbfd.
